{% extends "base.html" %}

{% block content %}

<section class="auth-hero auth-hero--doctor">
  <div class="auth-hero-overlay"></div>

  <div class="auth-center-wrapper">
    <div class="auth-card scroll-reveal">
      <!-- Header -->
      <div class="auth-card-header mb-4 scroll-reveal">
        <p class="tiny text-uppercase letter-spacing-wide text-muted mb-1 media-text"
           data-key="doctor_dashboard">
          Doctor Dashboard
        </p>
        <h1 class="h3 fw-bold mb-2 media-text scroll-reveal" data-key="doctor_login_title">
          Doctor Portal Access
        </h1>
        <p class="text-muted small mb-0 scroll-reveal">
          Dr.Guli
        </p>
      </div>

      <!-- Doctor login form -->
      <form method="post"
            action="{{ url_for('doctor_login', lang=lang) }}"
            novalidate>
        <div class="mb-3 scroll-reveal">
          <label for="doctorPassword" class="form-label small media-text" data-key="password">
            Password
          </label>
          <div class="password-wrapper">
            <input
              type="password"
              class="form-control auth-input password-field"
              id="doctorPassword"
              name="password"
              required
              autocomplete="current-password"
              placeholder="••••••••"
            >
            <button type="button" class="toggle-password-btn" tabindex="-1">
              <i class="bi bi-eye"></i>
            </button>
          </div>
        </div>

        <div class="d-grid gap-2 mt-3 scroll-reveal">
          <button type="submit" class="btn btn-primary">
            <span class="media-text" data-key="login">Login</span>
          </button>
        </div>
      </form>

      <div class="auth-footer mt-4 scroll-reveal">
        <p class="tiny text-muted mb-1">
          This portal is reserved for the psychologist only.
        </p>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Show/hide password buttons
    document.querySelectorAll(".toggle-password-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        const input = btn.parentElement.querySelector(".password-field");
        const icon = btn.querySelector("i");

        if (!input) return;

        if (input.type === "password") {
          input.type = "text";
          icon.classList.remove("bi-eye");
          icon.classList.add("bi-eye-slash");
        } else {
          input.type = "password";
          icon.classList.remove("bi-eye-slash");
          icon.classList.add("bi-eye");
        }
      });
    });
  });
</script>

{% endblock %}
